<script lang="ts">
	import QuizWrapper from '$lib/components/quiz/wrapper.svelte';
	import QuizOption from '$lib/components/quiz/option.svelte';

	export let personType: string = '';
	export let step: number;

	function setType(value: string) {
		if (personType === value) personType = '';
		else personType = value;
	}

	function prev() {
		step -= 1;
	}

	function next() {
		step += 1;
	}

	$: nextFn = personType ? next : undefined;
</script>

<QuizWrapper
	title="Gaya Hidup"
	titleState="Pertanyaan 1/5"
	question="Berdasarkan kebiasaanmu, Kamu adalah tipe orang yang..."
	{prev}
	next={nextFn}
>
	<div class="option-wrapper">
		<div class="options">
			<QuizOption
				onClick={() => setType('morning person')}
				selected={personType === 'morning person'}
			>
				<div class="inner">
					<div class="image">
						<svg viewBox="0 0 121 78" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M85.5957 54.0312C85.5957 55.5625 85.4395 57.0469 85.127 58.4844C84.8457 59.9219 84.4395 61.2969 83.9082 62.6094H36.4238C35.8926 61.2969 35.4707 59.9219 35.1582 58.4844C34.877 57.0469 34.7363 55.5625 34.7363 54.0312C34.7363 50.5312 35.3926 47.25 36.7051 44.1875C38.0488 41.125 39.877 38.4219 42.1895 36.0781C44.5332 33.7344 47.2363 31.8906 50.2988 30.5469C53.3926 29.2031 56.6895 28.5312 60.1895 28.5312C63.6582 28.5312 66.9238 29.2031 69.9863 30.5469C73.0801 31.8906 75.7832 33.7344 78.0957 36.0781C80.4395 38.4219 82.2676 41.125 83.5801 44.1875C84.9238 47.25 85.5957 50.5312 85.5957 54.0312ZM10.5957 56.4688C9.31445 56.4688 8.23633 56.0781 7.36133 55.2969C6.51758 54.4844 6.0957 53.5 6.0957 52.3438C6.0957 51.1562 6.51758 50.1719 7.36133 49.3906C8.20508 48.5781 9.2832 48.1719 10.5957 48.1719H21.4238C22.7363 48.1719 23.8145 48.5781 24.6582 49.3906C25.502 50.1719 25.9395 51.1562 25.9707 52.3438C25.9707 53.5 25.5332 54.4844 24.6582 55.2969C23.8145 56.0781 22.7363 56.4688 21.4238 56.4688H10.5957ZM29.8145 29.6562L22.127 22.0156C21.2207 21.0781 20.752 20.0312 20.7207 18.875C20.7207 17.6875 21.127 16.6875 21.9395 15.875C22.752 15.0938 23.7363 14.7031 24.8926 14.7031C26.0801 14.7031 27.127 15.1719 28.0332 16.1094L35.7207 23.7969C36.6582 24.6719 37.127 25.7188 37.127 26.9375C37.1582 28.125 36.7676 29.125 35.9551 29.9375C35.1738 30.75 34.1738 31.1406 32.9551 31.1094C31.7676 31.0781 30.7207 30.5938 29.8145 29.6562ZM84.377 29.9375C83.5645 29.125 83.1582 28.125 83.1582 26.9375C83.1895 25.7188 83.6738 24.6719 84.6113 23.7969L92.2988 16.1094C93.2051 15.1719 94.252 14.7031 95.4395 14.7031C96.627 14.6719 97.6113 15.0625 98.3926 15.875C99.2051 16.7188 99.5957 17.7188 99.5645 18.875C99.5645 20.0312 99.1113 21.0781 98.2051 22.0156L90.5176 29.6562C89.6113 30.5938 88.5645 31.0781 87.377 31.1094C86.1895 31.1094 85.1895 30.7188 84.377 29.9375ZM98.9082 56.4688C97.6582 56.4688 96.5957 56.0781 95.7207 55.2969C94.8457 54.4844 94.3926 53.5 94.3613 52.3438C94.3613 51.1562 94.7988 50.1719 95.6738 49.3906C96.5488 48.5781 97.627 48.1719 98.9082 48.1719H109.736C111.049 48.1719 112.127 48.5781 112.971 49.3906C113.814 50.1719 114.236 51.1562 114.236 52.3438C114.236 53.5 113.814 54.4844 112.971 55.2969C112.127 56.0781 111.049 56.4688 109.736 56.4688H98.9082ZM60.1895 19.9062C59.0332 19.9062 58.0332 19.4688 57.1895 18.5938C56.377 17.7188 55.9707 16.6562 55.9707 15.4062V4.53125C55.9707 3.25 56.377 2.1875 57.1895 1.34375C58.0332 0.46875 59.0332 0.03125 60.1895 0.03125C61.3145 0.03125 62.2832 0.46875 63.0957 1.34375C63.9395 2.1875 64.3613 3.25 64.3613 4.53125V15.4062C64.3613 16.6562 63.9395 17.7188 63.0957 18.5938C62.2832 19.4375 61.3145 19.875 60.1895 19.9062ZM4.73633 77.4688C3.48633 77.4688 2.39258 77.0156 1.45508 76.1094C0.548828 75.2344 0.0957031 74.2031 0.0957031 73.0156C0.0957031 71.7969 0.548828 70.75 1.45508 69.875C2.39258 69 3.48633 68.5625 4.73633 68.5625H115.596C116.846 68.5625 117.924 69 118.83 69.875C119.768 70.75 120.236 71.7969 120.236 73.0156C120.236 74.2344 119.768 75.2812 118.83 76.1562C117.924 77.0312 116.846 77.4688 115.596 77.4688H4.73633Z"
								fill="white"
							/>
						</svg>
					</div>
					<div class="name">Morning Person</div>
				</div>
			</QuizOption>
			<div class="name">Morning<br />Person</div>
		</div>
		<div class="options">
			<QuizOption onClick={() => setType('day person')} selected={personType === 'day person'}>
				<div class="inner">
					<div class="image">
						<svg viewBox="0 0 105 105" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M52.125 76.9211C48.7812 76.9211 45.6094 76.2805 42.6094 74.9993C39.6406 73.6868 37.0156 71.9055 34.7344 69.6555C32.4844 67.3743 30.7188 64.7493 29.4375 61.7805C28.1562 58.8118 27.5156 55.6399 27.5156 52.2649C27.5156 48.8899 28.1562 45.718 29.4375 42.7493C30.7188 39.7493 32.4844 37.1243 34.7344 34.8743C37.0156 32.593 39.6406 30.8118 42.6094 29.5305C45.6094 28.218 48.7812 27.5618 52.125 27.5618C55.4688 27.5618 58.625 28.218 61.5938 29.5305C64.5938 30.8118 67.2188 32.593 69.4688 34.8743C71.75 37.1243 73.5312 39.7493 74.8125 42.7493C76.0938 45.718 76.7344 48.8899 76.7344 52.2649C76.7344 55.6399 76.0938 58.8118 74.8125 61.7805C73.5312 64.7493 71.75 67.3743 69.4688 69.6555C67.2188 71.9055 64.5938 73.6868 61.5938 74.9993C58.625 76.2805 55.4688 76.9211 52.125 76.9211ZM52.1719 19.1711C50.8594 19.1711 49.75 18.7024 48.8438 17.7649C47.9375 16.8274 47.4844 15.718 47.4844 14.4368V4.68677C47.4844 3.40552 47.9375 2.31177 48.8438 1.40552C49.75 0.468018 50.8594 -0.000732422 52.1719 -0.000732422C53.4219 -0.000732422 54.5 0.468018 55.4062 1.40552C56.3438 2.31177 56.8125 3.40552 56.8125 4.68677V14.4368C56.8125 15.718 56.3438 16.8274 55.4062 17.7649C54.5 18.7024 53.4219 19.1711 52.1719 19.1711ZM75.5156 28.9211C74.6094 28.0461 74.1562 26.9524 74.1562 25.6399C74.1562 24.3274 74.6094 23.218 75.5156 22.3118L82.4531 15.3743C83.3281 14.468 84.4219 14.0149 85.7344 14.0149C87.0469 13.9836 88.1562 14.4211 89.0625 15.3274C89.9688 16.2336 90.4219 17.343 90.4219 18.6555C90.4219 19.968 89.9688 21.0774 89.0625 21.9836L82.1719 28.9211C81.2344 29.8586 80.1094 30.3274 78.7969 30.3274C77.5156 30.2961 76.4219 29.8274 75.5156 28.9211ZM85.1719 52.2649C85.1719 50.9836 85.625 49.8899 86.5312 48.9836C87.4688 48.0461 88.5938 47.5774 89.9062 47.5774H99.6094C100.891 47.5774 101.984 48.0461 102.891 48.9836C103.828 49.8899 104.297 50.9836 104.297 52.2649C104.297 53.5461 103.828 54.6399 102.891 55.5461C101.984 56.4524 100.891 56.9055 99.6094 56.9055H89.9062C88.5938 56.9055 87.4688 56.4524 86.5312 55.5461C85.625 54.6399 85.1719 53.5461 85.1719 52.2649ZM75.5156 75.6086C76.3906 74.7336 77.4844 74.2961 78.7969 74.2961C80.1094 74.2961 81.2188 74.7336 82.125 75.6086L89.0625 82.5461C89.9688 83.4524 90.4219 84.5618 90.4219 85.8743C90.4219 87.1555 89.9844 88.2493 89.1094 89.1555C88.2031 90.0305 87.0938 90.468 85.7812 90.468C84.4688 90.4993 83.375 90.093 82.5 89.2493L75.5156 82.218C74.6094 81.3118 74.1562 80.218 74.1562 78.9368C74.1562 77.6555 74.6094 76.5461 75.5156 75.6086ZM52.1719 85.3586C53.4219 85.3586 54.5 85.8118 55.4062 86.718C56.3438 87.6555 56.8125 88.7649 56.8125 90.0461V99.7962C56.8125 101.077 56.3438 102.171 55.4062 103.077C54.5 104.015 53.4219 104.484 52.1719 104.484C50.8594 104.484 49.75 104.015 48.8438 103.077C47.9375 102.171 47.4844 101.077 47.4844 99.7962V90.0461C47.4844 88.7649 47.9375 87.6555 48.8438 86.718C49.75 85.8118 50.8594 85.3586 52.1719 85.3586ZM28.7812 75.6086C29.6562 76.5461 30.0938 77.6555 30.0938 78.9368C30.0938 80.218 29.6406 81.3118 28.7344 82.218L21.7969 89.2024C20.9219 90.0461 19.8125 90.4524 18.4688 90.4211C17.1562 90.4211 16.0469 89.9836 15.1406 89.1086C14.2969 88.2024 13.875 87.1086 13.875 85.8274C13.875 84.5149 14.3281 83.4055 15.2344 82.4993L22.125 75.6086C23.0312 74.7336 24.1406 74.2961 25.4531 74.2961C26.7656 74.2961 27.875 74.7336 28.7812 75.6086ZM19.125 52.2649C19.125 53.5461 18.6562 54.6399 17.7188 55.5461C16.7812 56.4524 15.6719 56.9055 14.3906 56.9055H4.64062C3.39062 56.9055 2.29688 56.4524 1.35938 55.5461C0.453125 54.6399 0 53.5461 0 52.2649C0 50.9836 0.453125 49.8899 1.35938 48.9836C2.29688 48.0461 3.39062 47.5774 4.64062 47.5774H14.3906C15.6719 47.5774 16.7812 48.0461 17.7188 48.9836C18.6562 49.8899 19.125 50.9836 19.125 52.2649ZM28.7344 28.9211C27.8281 29.8274 26.7188 30.2805 25.4062 30.2805C24.125 30.2805 23.0312 29.8274 22.125 28.9211L15.2344 21.9368C14.3594 21.0618 13.9219 19.968 13.9219 18.6555C13.9219 17.343 14.375 16.2336 15.2812 15.3274C16.1875 14.4211 17.2812 13.9836 18.5625 14.0149C19.875 14.0461 20.9844 14.4993 21.8906 15.3743L28.7812 22.3118C29.6562 23.218 30.0938 24.3274 30.0938 25.6399C30.0938 26.9524 29.6406 28.0461 28.7344 28.9211Z"
								fill="white"
							/>
						</svg>
					</div>
					<div class="name">Day Person</div>
				</div>
			</QuizOption>
			<div class="name">Day<br />Person</div>
		</div>
		<div class="options">
			<QuizOption onClick={() => setType('night person')} selected={personType === 'night person'}>
				<div class="inner">
					<div class="image">
						<svg viewBox="0 0 93 93" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M72 62.156C74.8125 62.156 77.5469 61.906 80.2031 61.406C82.8906 60.906 85.1094 60.3435 86.8594 59.7185C87.8594 59.3123 88.7188 59.1091 89.4375 59.1091C90.1875 59.1091 90.8594 59.3904 91.4531 59.9529C92.0469 60.4841 92.3438 61.2185 92.3438 62.156C92.3438 62.4685 92.2969 62.906 92.2031 63.4685C92.1406 63.9998 91.9688 64.5779 91.6875 65.2029C90.1875 69.1091 88.0156 72.7341 85.1719 76.0779C82.3281 79.4216 78.9844 82.3435 75.1406 84.8435C71.3281 87.3747 67.1406 89.3435 62.5781 90.7497C58.0156 92.156 53.2344 92.8591 48.2344 92.8591C41.4219 92.8591 35.0781 91.6872 29.2031 89.3435C23.3281 87.031 18.2031 83.7654 13.8281 79.5466C9.48438 75.2966 6.09375 70.2966 3.65625 64.5466C1.21875 58.7966 0 52.4841 0 45.6091C0 39.0779 1.20312 32.8123 3.60938 26.8123C6.04688 20.8123 9.4375 15.531 13.7812 10.9685C18.1562 6.37476 23.25 2.92163 29.0625 0.609131C29.6562 0.390381 30.2188 0.234131 30.75 0.140381C31.2812 0.0466309 31.7031 -0.000244141 32.0156 -0.000244141C32.9844 -0.000244141 33.7344 0.312256 34.2656 0.937256C34.7969 1.53101 35.0625 2.18726 35.0625 2.90601C35.0625 3.21851 35 3.59351 34.875 4.03101C34.7812 4.46851 34.6094 4.98413 34.3594 5.57788C33.7656 6.85913 33.25 8.45288 32.8125 10.3591C32.375 12.2341 32.0312 14.2029 31.7812 16.2654C31.5312 18.2966 31.4062 20.2029 31.4062 21.9841C31.4062 28.1716 32.3438 33.7498 34.2188 38.7185C36.125 43.656 38.8438 47.8748 42.375 51.3748C45.9375 54.8435 50.2188 57.5154 55.2188 59.3904C60.2188 61.2341 65.8125 62.156 72 62.156Z"
								fill="white"
							/>
						</svg>
					</div>
					<div class="name">Night Person</div>
				</div>
			</QuizOption>
			<div class="name">Night<br />Person</div>
		</div>
	</div>
</QuizWrapper>

<style>
	.option-wrapper {
		position: relative;
		display: flex;
		flex-wrap: wrap;
		gap: 28px;
		align-items: flex-start;
		justify-content: center;
	}

	.options {
		position: relative;
		width: 40%;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}

	.inner {
		position: relative;
		display: flex;
		flex-direction: column;
		justify-content: center;
		gap: 12px;
		width: 65%;
	}

	.image {
		position: relative;
		height: 40px;
		aspect-ratio: 1/1;
		margin: 0 auto;
		display: flex;
		align-items: flex-end;
	}

	.name {
		position: relative;
		text-align: center;
		display: none;
		font-size: 18px;
	}

	.inner .name {
		display: block;
	}

	@media (min-width: 685px) {
		.options {
			width: 30%;
			gap: 40px;
		}

		.inner {
			gap: 40px;
		}

		.name {
			display: block;
			font-size: 40px;
		}

		.inner .name {
			display: none;
		}

		.inner .image {
			height: 80px;
			align-items: center;
		}
	}
</style>
